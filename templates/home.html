<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
	<script src="https://cdn.jsdelivr.net/npm/TagCloud@2.2.0/dist/TagCloud.min.js"></script>
    <script src="main.js"></script>
    <link href="main.css" rel="stylesheet" type="text/css">
    <title>2022資訊X財務尾牙抽獎</title>
</head>
		
<body>
	
	<div class="form-group">
		<button id="btn1">抽獎啟動 = set server data </button>
	</div>
	<div class="form-group">
		<button id="btn2">Get server data</button>
	</div>
	<div class="form-group">
		<p id="msg"></p>
	</div>

	<script>
		$('#btn1').click(function(){
			console.log("set");
			$.ajax({
				url: "/setRequest",
				type: "POST",
				dataType: "json",
				data: {'num': '10'},
				success: function (data) {
					console.log(data.msg);
				}
			})
		})

		$('#btn2').click(function(){
			console.log("get");
			$.ajax({
				url: "/getRequest",
				type: "POST",
				dataType: "json",
				success: function (data) {
					if(data.hasOwnProperty("msg")){
						console.log(data.msg);
						$("#msg").text(data.msg);
					}else if(data.hasOwnProperty("name")){
						var result = data.name;
						console.log(result);
						$("#msg").text(result);
					}else{
						console.log("error");
						$("#msg").text(error);
					}
				}
			})
		})
	</script>

</body>
</html>
